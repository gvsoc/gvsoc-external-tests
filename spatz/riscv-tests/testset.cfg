from plptest.testsuite import *
import re

def add_test(testset, name):
    test = testset.new_test(name)
    test.add_command(Shell('run', f'gvsoc --target spatz --binary test-riscvTests-{name} run'))

def testset_build(testset):

    tests = [ 'vfmv', 'vfadd', 'vfsub', 'vfrsub', 'vfmin', 'vfmax', 'vfmul', 'vfmacc', 'vfnmacc', 'vfmsac', 'vfnmsac', 'vfmadd', 'vfnmadd', 'vfnmsub', 'vfnmsub' ]

    for test_name in tests:
        test = testset.new_test(test_name)
        test.add_command(Shell('run', f'gvsoc --target spatz --binary test-riscvTests-{test_name} run'))
